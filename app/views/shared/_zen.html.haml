- @gfm_form = true
- current_text ||= nil
- supports_autocomplete = local_assigns.fetch(:supports_autocomplete, true)
- supports_quick_actions = local_assigns.fetch(:supports_quick_actions, false)
- qa_selector = local_assigns.fetch(:qa_selector, '')
- autofocus = local_assigns.fetch(:autofocus, false)
.zen-backdrop
  - classes << ' js-gfm-input js-autosize markdown-area'
  - if defined?(f) && f
    = f.text_area attr,
      class: classes,
      placeholder: placeholder,
      dir: 'auto',
      data: { supports_quick_actions: supports_quick_actions,
        supports_autocomplete: supports_autocomplete,
        qa_selector: qa_selector,
        autofocus: autofocus }
  - else
    = text_area_tag attr, current_text, data: { qa_selector: qa_selector }, class: classes, placeholder: placeholder
  %a.zen-control.zen-control-leave.js-zen-leave.gl-text-gray-500{ href: "#" }
    = sprite_icon('minimize')

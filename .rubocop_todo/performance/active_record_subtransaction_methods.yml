---
Performance/ActiveRecordSubtransactionMethods:
  Exclude:
  - app/controllers/clusters/clusters_controller.rb
  - app/controllers/repositories/lfs_storage_controller.rb
  - app/controllers/search_controller.rb
  - app/models/application_record.rb
  - app/models/ci/ref.rb
  - app/models/container_repository.rb
  - app/models/design_management/design_collection.rb
  - app/models/error_tracking/error.rb
  - app/models/external_pull_request.rb
  - app/models/merge_request.rb
  - app/models/plan.rb
  - app/models/project.rb
  - app/models/shard.rb
  - app/models/x509_certificate.rb
  - app/models/x509_commit_signature.rb
  - app/models/x509_issuer.rb
  - app/models/concerns/commit_signature.rb
  - app/services/bulk_imports/relation_export_service.rb
  - app/services/ci/update_build_state_service.rb
  - app/services/event_create_service.rb
  - app/services/groups/import_export/import_service.rb
  - app/services/lfs/file_transformer.rb
  - app/services/merge_requests/approval_service.rb
  - app/services/namespaces/statistics_refresher_service.rb
  - app/services/packages/rubygems/create_dependencies_service.rb
  - app/services/packages/rubygems/metadata_extraction_service.rb
  - app/services/projects/create_service.rb
  - app/services/projects/lfs_pointers/lfs_download_service.rb
  - app/services/service_desk_settings/update_service.rb
  - app/services/service_ping/submit_service.rb
  - app/services/terraform/remote_state_handler.rb
  - app/workers/namespaces/schedule_aggregation_worker.rb
  - app/workers/project_export_worker.rb
  - db/migrate/20200212014653_rename_security_dashboard_feature_flag_to_instance_security_dashboard.rb
  - db/post_migrate/20200214034836_remove_security_dashboard_feature_flag.rb
  - db/post_migrate/20210824174615_prepare_ci_builds_metadata_and_ci_build_async_indexes.rb
  - ee/app/models/ci/minutes/namespace_monthly_usage.rb
  - ee/app/models/ci/minutes/project_monthly_usage.rb
  - ee/app/models/concerns/deprecated_approvals_before_merge.rb
  - ee/app/models/ee/iteration.rb
  - ee/app/models/ee/plan.rb
  - ee/app/models/elastic/index_setting.rb
  - ee/app/models/gitlab_subscription.rb
  - ee/app/models/software_license.rb
  - ee/app/services/boards/user_preferences/update_service.rb
  - ee/app/services/ci/minutes/update_project_and_namespace_usage_service.rb
  - ee/app/services/ee/analytics/cycle_analytics/stages/base_service.rb
  - ee/app/services/security/store_report_service.rb
  - ee/app/services/security/store_scan_service.rb
  - ee/app/workers/import_software_licenses_worker.rb
  - ee/db/fixtures/production/027_plans.rb
  - ee/lib/ee/gitlab/background_migration/migrate_approver_to_approval_rules.rb
  - ee/lib/gitlab/elastic/indexer.rb
  - lib/gitlab/ci/pipeline/seed/environment.rb
  - lib/gitlab/ci/pipeline/seed/processable/resource_group.rb
  - lib/gitlab/ci/trace/chunked_io.rb
  - lib/gitlab/composer/cache.rb
  - lib/gitlab/database/async_indexes/migration_helpers.rb
  - lib/gitlab/issuables_count_for_state.rb
